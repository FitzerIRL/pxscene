"use strict";
var programs = {"programs":[{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=8684425363494077112&width=180&height=240","title":"The Hateful Eight","year":2015,"starRating":4,"mediumSynopsis":"A bounty hunter and his captured fugitive seek refuge from a blizzard in a Wyoming mountain cabin, where they find a group of other distrustful strangers. In time, tensions boil over and bloodshed ensues in this nerve-shredding Western thriller."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=5362695626670385112&width=180&height=240","title":"The Jungle Book","year":2016,"starRating":3,"mediumSynopsis":"In this visually stunning adaptation of the classic tales by Rudyard Kipling, a panther leads an orphaned human boy on a trek through the jungle in order to reunite him with his kind. Along the way, the boy encounters a lazy bear and a devious snake, as well as an orangutan who dreams of controlling fire."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=8987439933207683112&width=180&height=240","title":"Taxi","year":2015,"starRating":4,"mediumSynopsis":"This acclaimed slice-of-life drama focuses on Iranian filmmaker Jafar Panahi as he poses as a taxi driver in Tehran, and encounters a number of everyday people who hire his services."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=8938469030490593112&width=180&height=240","title":"Inside Out","year":2015,"starRating":4,"mediumSynopsis":"In this delightful animated film, emotions run wild in the mind of a young girl who is uprooted from her peaceful life in the Midwest and forced to move to San Francisco. Joy, Fear, Anger, Disgust and Sadness each have their own ideas about how she should handle her new surroundings."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=7027338827869895112&width=180&height=240","title":"The Forest","year":2016,"starRating":1,"mediumSynopsis":"In this haunting thriller, a young woman searches for her twin sister in an infamous Japanese forest beneath Mount Fuji where lost souls go to commit suicide. With the help of an American guide, she treks into the heart of the mysterious woodland."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=8182661914205493112&width=180&height=240","title":"The Big Short","year":2015,"starRating":4,"mediumSynopsis":"This hilarious adaptation of the nonfiction book \"The Big Short\" explores the 2008 financial crisis through the lens of four unorthodox moneymen, who foresaw the consequences of the fraudulent mortgage-lending practices of large banks on Wall Street."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=6784454762377602112&width=180&height=240","title":"Ride Along 2 (With Gag Reel)","year":2016,"starRating":2,"mediumSynopsis":"Friction continues between a rookie cop and his seasoned partner (who's also his future brother-in-law) in this sidesplitting action comedy. After discovering a mysterious flash drive during an arrest, the pair travel to Miami to hunt down a drug lord with the help of a savvy detective. Includes gag reel."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=8110922511861846112&width=180&height=240","title":"Selma","year":2015,"starRating":4,"mediumSynopsis":"The marches from Selma, Ala., to Montgomery to secure voting rights for black Americans are depicted in this powerfully moving docudrama set during the U.S. Civil Rights Movement, and which focuses on the actions of Martin Luther King Jr."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=7889220070623108112&width=180&height=240","title":"Mistress America","year":2015,"starRating":4,"mediumSynopsis":"In this millennial screwball comedy, a mousy college freshman living on her own in New York City meets Brooke, her stepsister-to-be, and is soon entranced by her worldliness and flummoxed by her impulsive nature."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=8525780066215312112&width=180&height=240","title":"Hail, Caesar!","year":2016,"starRating":3,"mediumSynopsis":"This outlandish comedy set in the golden age of showbiz centers on a slick Hollywood fixer named Eddie Mannix, who is pressed into action when a superstar actor is kidnapped and held for ransom. Mannix must race to quietly collect the ransom money before the gossip mags catch wind of the scandal."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=8283914785315361112&width=180&height=240","title":"Mad Max: Fury Road","year":2015,"starRating":4,"mediumSynopsis":"In this high-octane thrill ride set in a sun-parched, postapocalyptic future, loner Max gets caught up in the plight of a group of warrior women as they flee from an evil despot across a desert wasteland."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=7163740493752619112&width=180&height=240","title":"Whiskey Tango Foxtrot","year":2016,"starRating":2,"mediumSynopsis":"In this outrageous comedy-drama, TV reporter Kim Baker decides to serve as a foreign correspondent in Afghanistan, where she is embedded with a Marine unit. During her time abroad, she is forced to contend with a fiery U.S. general, and befriends a fellow reporter and a British photographer."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=7848084514287887112&width=180&height=240","title":"The Revenant","year":2015,"starRating":4,"mediumSynopsis":"Leonardo DiCaprio stars in this 20th Century Fox production adapted from Michael Punke's book The Revenant: A Novel of Revenge, which tells the tense story of a 19th Century fur trapper who seeks vengeance against the companions who robbed him and left him for dead following a vicious grizzly bear attack."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=7745924217421532112&width=180&height=240","title":"Armi elää!","year":2015,"starRating":4},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=7604487940754422112&width=180&height=240","title":"The Treasure","year":2015,"starRating":4,"mediumSynopsis":"Two neighbors learn of a treasure buried in their shared yard and decide to dig it up, only to encounter one bureaucratic snafu after another in this wry satire of manners in post-Communist Romania."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=6254652039033894112&width=180&height=240","title":"The Boy","year":2016,"starRating":1,"mediumSynopsis":"A woman acts as a nanny for a life-size doll, which a couple are using as a coping mechanism for the death of their son two decades earlier. However, she soon suspects that there is more to the doll than meets the eye in this disturbing horror film."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=7476433839022682112&width=180&height=240","title":"Southpaw","year":2015,"starRating":4,"mediumSynopsis":"Eminem stars as a down-on-his-luck welterweight boxer who has to fight his way back to the top in this Sony Pictures/MGM release. Antoine Fuqua (Brooklyn's Finest) directs from a script by Kurt Sutter."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=7396660611679160112&width=180&height=240","title":"Spotlight","year":2015,"starRating":4,"mediumSynopsis":"In this powerful drama based on a true story, journalists at the Boston Globe investigate cases of child abuse within the Catholic Church, and expose a far-reaching scandal involving the archdiocese's cover-up of the molestation of children by priests."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=8000783110511402112&width=180&height=240","title":"The 5th Wave","year":2016,"starRating":1,"mediumSynopsis":"In this chilling sci-fi tale, Cassie is a teenager leading a normal life, including a crush on a football star, when aliens invade Earth and kill millions of humans. Now, she must rescue her kidnapped brother while figuring out whom she can trust."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=7111921004342965112&width=180&height=240","title":"Zootopia","year":2016,"starRating":3,"mediumSynopsis":"In this clever and hilarious animated adventure set in a city inhabited by anthropomorphic animals, an uptight rabbit police officer is forced to work with a charismatic fox con artist in order to get to the bottom of a major case involving the disappearance of carnivorous citizens."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=7072079605342585112&width=180&height=240","title":"Trainwreck","year":2015,"starRating":4,"mediumSynopsis":"In this raunchy yet heartfelt comedy, a commitment-phobic binge drinker living in New York City must reevaluate her feelings about intimate relationships when a sports doctor pursues a romance with her. Meanwhile, she must make some hard decisions about her ailing father's long-term care."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=8085627580458342112&width=180&height=240","title":"Miracles From Heaven","year":2016,"starRating":2,"mediumSynopsis":"In this deeply inspiring religious drama based on a true story, a 10-year-old girl is somehow cured of a chronic digestive disorder following a serious accident in which she falls three stories. Soon, her mother believes that her recovery is a miracle."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=6989234115482424112&width=180&height=240","title":"The End of the Tour","year":2015,"starRating":4,"mediumSynopsis":"In this compelling docudrama, a reporter from Rolling Stone accompanies author David Foster Wallace on a portion of his book tour for \"Infinite Jest,\" resulting in an exhaustive, five-day interview that would leave both men altered by the experience."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=6847152131584312112&width=180&height=240","title":"Carol","year":2015,"starRating":4,"mediumSynopsis":"In this achingly beautiful drama, a female department-store employee in 1950s New York falls for a woman stuck in a loveless marriage. Unfortunately, the latter's husband threatens to take their child if the relationship between the two women continues."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=6382676749054784112&width=180&height=240","title":"Batman v Superman: Dawn of Justice","year":2016,"starRating":2,"mediumSynopsis":"Batman and Superman clash over differing philosophies about what kind of heroism is needed to protect the world in this soaring comic-book extravaganza. However, the duo are soon forced to confront an even greater threat created by Lex Luthor."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=6356558602655352112&width=180&height=240","title":"Sherpa","year":2015,"starRating":4,"mediumSynopsis":"This eye-opening documentary takes a look at the Sherpa people, their role in aiding climbers attempting to reach the summit of Mount Everest and their protests for higher wages and better work safety."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=8899828962255356112&width=180&height=240","title":"Dirty Grandpa","year":2016,"starRating":1,"mediumSynopsis":"In this amazingly raunchy comedy, a straight-laced lawyer and his horndog grandfather go on a road trip to Daytona Beach for spring break. Along the way, the elderly man prods his grandson to let loose, and tries to convince him that he shouldn't get married to his controlling fiancée."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=5451144914943544112&width=180&height=240","title":"Bridge of Spies","year":2015,"starRating":4,"mediumSynopsis":"Tom Hanks stars as the American attorney tasked with negotiating the release of a U-2 spy plane pilot who was shot down over Russia at the height of the Cold War in this historical drama from DreamWorks Studios. Steven Spielberg and Mark E. Platt produce a film written by Matt Charman."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=5660075575035344112&width=180&height=240","title":"Sicario","year":2015,"starRating":4,"mediumSynopsis":"An idealistic FBI agent (Emily Blunt) is assigned to work a dangerous stretch of the US-Mexico border by her superior officer (Josh Brolin). She's exposed to the brutality of the Mexican drug cartel, and becomes partners with a defector from the cartel (Benicio Del Toro) who possesses keen knowledge about the organization. As she gets deeper into the ruthlessness and corruption surrounding the FBI sting to find the organizations leaders, her moral and professional boundaries are pushed to their breaking point."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=5868228415017545112&width=180&height=240","title":"Kurt Cobain: Montage of Heck","year":2015,"starRating":4,"mediumSynopsis":"In this intimate and avant-garde portrait, the tormented life of Nirvana frontman Kurt Cobain is retold through a collage of never-before-seen videos, home movies, cassette recordings and animations."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=5514327483534418112&width=180&height=240","title":"Slow West","year":2015,"starRating":4,"mediumSynopsis":"A young boy Kodi Smit-McPhee traverses across the 19th-century American frontier searching for the love of his life."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=8916929551932774112&width=180&height=240","title":"Knight of Cups","year":2016,"starRating":3,"mediumSynopsis":"In this lyrical character study, a Hollywood screenwriter wanders around Los Angeles and Las Vegas while reflecting on his life of excess and connection to the natural world. At the same time, he struggles to bond with his brother and father, and has a series of love affairs with the women who drift in and out of his life."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=5266977876503942112&width=180&height=240","title":"Creed","year":2015,"starRating":4,"mediumSynopsis":"Rocky Balboa (Sylvester Stallone) trains Apollo Creed's grandson to follow in his grandfather's formidable footsteps."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=5229226269763523112&width=180&height=240","title":"Demolition","year":2016,"starRating":2,"mediumSynopsis":"In this intriguing dramedy, an investment banker copes with his wife's sudden death by dismantling the machines surrounding him. Meanwhile, his complaints to a vending-machine company spark an unexpected relationship with a customer-service rep."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=5426722348456530112&width=180&height=240","title":"Cinderella","year":2015,"starRating":4,"mediumSynopsis":"An orphan named Ella is treated cruelly by her stepmother and stepsisters, who force her to do menial chores. However, her life changes forever when she meets a prince in this charming take on the classic fairy tale."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=5151630412365932112&width=180&height=240","title":"The Martian","year":2015,"starRating":4,"mediumSynopsis":"In this thrilling and inspirational sci-fi drama, a lone astronaut is left behind on the hostile surface of Mars, and must use his ingenuity to create a habitat where he can survive. Meanwhile, his crewmates and a team of scientists work to rescue him, in defiance of NASA protocol."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=4922648175137760112&width=180&height=240","title":"Star Wars: The Force Awakens","year":2015,"starRating":4,"mediumSynopsis":"In this thrilling continuation of the epic space opera, an ex-stormtrooper, a scrappy desert dweller and a droid companion embark on a journey that brings them face-to-face with heroes from the past, who are now battling a fascist regime called the First Order."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=4885055678928580112&width=180&height=240","title":"Avengers: Age of Ultron","year":2015,"starRating":4,"mediumSynopsis":"The Avengers unite to thwart the villainous Ultron from carrying out his evil plan to extinguish all human life on planet Earth, in this mind-blowing sequel."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=5153826665243293112&width=180&height=240","title":"The Last Five Years","year":2015,"starRating":4,"mediumSynopsis":"A young novelist's career takes flight as his wife struggles to become a famous actress in this ingenious, chronologically fractured musical."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=4710973506075464112&width=180&height=240","title":"Spectre","year":2015,"starRating":4,"mediumSynopsis":"After being stripped of his authority by MI6, a rogue James Bond pulls back the curtain on a nefarious covert organization known as SPECTRE that's hatching a plan hinging on surveillance and drones. Along the way, he forges an alliance with the daughter of a former adversary and travels to exotic lands."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=4686140571781600112&width=180&height=240","title":"Me Rosvolat","year":2015,"starRating":4},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=9191713079012819112&width=180&height=240","title":"Suffragette","year":2015,"starRating":3,"mediumSynopsis":"In this galvanizing feminist drama, a working-class laundress in 19th-century London becomes radicalized when she meets a brave cadre of women who are fighting for the right to vote."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=9187865158286484112&width=180&height=240","title":"The Hunger Games: Mockingjay, Part 2","year":2015,"starRating":3,"mediumSynopsis":"In the fourth and final installment of the electrifying \"Hunger Games\" saga, Katniss and her allies face their biggest challenge yet as the uprising sets its sights on revenge against President Snow during its siege of the Capitol. Meanwhile, Katniss must also deal with her brainwashed ex-lover and tensions with her current beau."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=9139118736856736112&width=180&height=240","title":"Tomorrowland 3D","year":2015,"starRating":3,"mediumSynopsis":"The walls of time and space break down in this rollicking sci-fi adventure, in which an ambitious teen discovers a pin that transports her to a futuristic world. She then teams up with a jaded genius, and they embark on a mission to save the Earth."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=9071628762261756112&width=180&height=240","title":"James White","year":2015,"starRating":3,"mediumSynopsis":"A self-destructive young New Yorker struggles to keep his life under control while caring for his terminally ill mother in this heartwrenching drama."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=9193050610162375112&width=180&height=240","title":"The Boss","year":2016,"starRating":2,"mediumSynopsis":"A hugely successful businesswoman is convicted of insider trading and sentenced to prison in this uproarious comedy. After being released, she tries to earn redemption by helping a group of young girls in their quest to sell brownies."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=9128622148510111112&width=180&height=240","title":"The Danish Girl","year":2015,"starRating":3,"mediumSynopsis":"In this touching drama, Danish painter Einar Wegener begins living as a woman named Lili, and undergoes one of the first gender-reassignment surgeries in the 1930s. Lili struggles with her new identity as it strains her marriage to artist Gerda Wegener."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=7561814817613190112&width=180&height=240","title":"Fifty Shades of Black","year":2016,"starRating":1,"mediumSynopsis":"A recent college graduate becomes entangled in a peculiar sexual relationship with a wealthy businessman in this hilarious parody of \"Fifty Shades of Grey.\""},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=8992940514036415112&width=180&height=240","title":"The Messenger","year":2015,"starRating":3,"mediumSynopsis":"The various hazards songbirds face, which has led to a drastic reduction in their population is examined in this engaging documentary. The role the birds play in the global ecosystem is discussed by biologist and industry experts."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=8981746403729096112&width=180&height=240","title":"45 Years","year":2015,"starRating":3,"mediumSynopsis":"In this gripping drama, an aging couple's marriage is challenged when the body of the husband's ex-fiancée is discovered, more than 50 years after she disappeared during a vacation in Switzerland."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=8850200221915174112&width=180&height=240","title":"Queen of Earth","year":2015,"starRating":3,"mediumSynopsis":"In this fearless psychological drama, an emotionally shaken woman retreats to her best friend's lake house to regain her composure after a series of personal tragedies, only to turn on her friend when a neighbor triggers her disgust."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=8902599371570757112&width=180&height=240","title":"Ingrid Bergman in Her Own Words","year":2015,"starRating":3,"mediumSynopsis":"A stunning profile of legendary Swedish actress Ingrid Bergman, told through rare interviews and archival footage."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=8840311150597628112&width=180&height=240","title":"Janis: Little Girl Blue","year":2015,"starRating":3,"mediumSynopsis":"A comprehensive and intimate look at the life and career of singer/songwriter Janis Joplin, whose success in the 1960s paved the way for female artists of the future. The documentary features rare interviews and concert footage of Joplin."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=8811885230067473112&width=180&height=240","title":"The Assassin","year":2015,"starRating":3,"mediumSynopsis":"In this visually stunning drama set in 9th-century China, a general's daughter is abducted as a child and trained to be an assassin. Later, she returns to her birthplace to kill the governor, whom she was once slated to marry."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=5049913133864539112&width=180&height=240","title":"My Big Fat Greek Wedding 2","year":2016,"starRating":2,"mediumSynopsis":"In this charming sequel to the 2002 sleeper hit, Toula's family throws an even bigger Greek wedding for her parents, who learn they never officially tied the knot. Meanwhile, she deals with a daughter who's eager to escape from her overbearing clan."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=8716694833621962112&width=180&height=240","title":"Grandma","year":2015,"starRating":3,"mediumSynopsis":"In this biting comedy, an acerbic septuagenarian poet is drawn back into the lives of her workaholic daughter and teenage granddaughter when the latter asks for her help in dealing with an unplanned pregnancy."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=8704000175259209112&width=180&height=240","title":"Jurassic World","year":2015,"starRating":3,"mediumSynopsis":"Twenty-two years after Jurassic Park opened on Isla Nubar, a dinosaur-themed resort attracts thousands of visitors each year, just as John Hammond envisioned. However, following a bad sag in turnout a new effort is undertaken to revitalize Jurassic World, but once again mankind's attempts to interfere with nature bring ominous results."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=8558887179013234112&width=180&height=240","title":"The Peanuts Movie","year":2015,"starRating":3,"mediumSynopsis":"Charlie Brown, Snoopy, Woodstock and friends embark on an epic adventure in this charming adaptation of the beloved comic strip."}, {"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=8624128704398518112&width=180&height=240","title":"Sisters","year":2015,"starRating":3,"mediumSynopsis":"SNL alumni Tina Fey and Amy Poehler co-star in this Universal Studios comedy about a pair of 30-something sisters who learn that their parents' house has been put on the market, and who decide to spend one last rowdy weekend in the home where they grew up."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=8509530830845497112&width=180&height=240","title":"The Intern","year":2015,"starRating":3,"mediumSynopsis":"In this amusing fish-out-of-water workplace comedy, a 70-year-old widower comes out of retirement to take an internship at a trendy start-up fashion company. Later, he unexpectedly becomes a confidant for the overwhelmed young CEO."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=8471122267841154112&width=180&height=240","title":"The Divergent Series: Allegiant","year":2016,"starRating":1,"mediumSynopsis":"After discovering the truth about their walled city and breaking down its oppressive faction system, Tris and Four lead a journey outside of Chicago to learn more about who has been manipulating their civilization. But once their group comes face-to-face with the society that turned their city into an enclosed experiment, secrets are uncovered that threaten the fate of humankind."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=8511468063593379112&width=180&height=240","title":"In Jackson Heights","year":2015,"starRating":3,"mediumSynopsis":"An absorbing documentary look at the Queens, New York working class district of Jackson Heights - considered one of the most diverse neighborhoods in the world."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=8429761017385738112&width=180&height=240","title":"Magic Mike XXL","year":2015,"starRating":3,"mediumSynopsis":"Retired male stripper Magic Mike decides to help his friends put on one last show, as the crew embark on a road trip to Myrtle Beach to perform at an exotic-dance convention. Along the way, they brighten the lives of several women in this sexy sequel."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=8433209954172941112&width=180&height=240","title":"Naz & Maalik","year":2015,"starRating":3,"mediumSynopsis":"In this moving comedy-drama, two gay Muslim teens living in post-9/11 Brooklyn struggle to hide their sexuality from their families. Later, an encounter with an undercover cop leads to them being put under FBI surveillance."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=8394162121622073112&width=180&height=240","title":"Furious 7 3D","year":2015,"starRating":3,"mediumSynopsis":"In this high-octane thrill ride, a tight-knit gang of street racers must battle the brother of a defeated nemesis and rescue a software genius from terrorists. The film is dedicated to series regular Paul Walker, who died halfway through production."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=8483274910611502112&width=180&height=240","title":"Tomorrowland","year":2015,"starRating":3,"mediumSynopsis":"When a scientifically-minded teenager (Britt Robertson) discovers a technologically advanced trinket that provides an astounding glimpse of the future, she enlists the help of reclusive inventor (George Clooney) to make \"Tomorrowland\" a reality today."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=8653469722626620112&width=180&height=240","title":"Prescription Thugs","year":2016,"starRating":2,"mediumSynopsis":"A fascinating look at prescription-drug abuse and the role that the pharmaceutical industry and doctors play in perpetuating it. Industry whistle-blowers and rehabilitation experts share their assessment of the situation."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=8363220354572856112&width=180&height=240","title":"Katilo","year":2015,"starRating":3},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=8286474726094943112&width=180&height=240","title":"Beasts of No Nation","year":2015,"starRating":3,"mediumSynopsis":"This unflinching drama details the life of a young West African boy, who is forced to become a child soldier after his father is killed in a brutal civil war."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=8367061491940774112&width=180&height=240","title":"Arabian Nights - Volume 2, The Desolate One","year":2015,"starRating":3,"mediumSynopsis":"A murderer on the run from authorities becomes a folk hero in the second installment of this moving, surreal epic about the lives of ordinary people in austerity-stricken, contemporary Portugal. Elsewhere, a trial involving stolen cows turns farcical and a dog is passed from owner to owner in an apartment complex."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=8284716749444663112&width=180&height=240","title":"Truth","year":2015,"starRating":3,"mediumSynopsis":"Hard-hitting docudrama about the controversial 2004 \"60 Minutes\" exposé on then-president George W. Bush's military service, and the fallout that producer Mary Mapes and anchor Dan Rather suffered after the validity of key documents was questioned."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=8246624735507105112&width=180&height=240","title":"The Lady in the Van","year":2015,"starRating":3,"mediumSynopsis":"In this heartfelt comedy-drama, a homeless woman parks her van in the driveway of playwright Alan Bennett's house, and lives there for 15 years. Over the course of her stay, the two form a unique friendship. Based on a true story that became a hit stage play in 1999."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=8269967192120866112&width=180&height=240","title":"Pitch Perfect 2","year":2015,"starRating":3,"mediumSynopsis":"In this hilarious sequel, the Barden Bellas a cappella group enter an international competition, but are told it will be impossible to win because they are from the U.S. The ladies vow to be the first Americans to take home the top prize."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=8229044101147830112&width=180&height=240","title":"Hitchcock/Truffaut","year":2015,"starRating":3,"mediumSynopsis":"In this in-depth documentary, filmmakers discuss the impact of Francois Truffaut's 1966 book \"Hitchcock/Truffaut,\" in which Alfred Hitchcock painstakingly detailed his directorial process."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=8214647579908267112&width=180&height=240","title":"Experimenter","year":2015,"starRating":3,"mediumSynopsis":"Riveting docudrama about renowned social psychologist Stanley Milgram, who conducted controversial experiments in the early 1960s involving subjects' capacity for cruelty and blind obedience."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=8193254772671915112&width=180&height=240","title":"Meet the Patels","year":2015,"starRating":3,"mediumSynopsis":"A first-generation Indian-American man looks for a wife in this amusing documentary, and his search becomes a family affair when his parents get involved in the process. They suggest that he focus on marrying a woman with the surname \"Patel,\" which indicates that a person is from a 50-square-mile area of India."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=8084463717354245112&width=180&height=240","title":"In the Heart of the Sea: The IMAX Experience","year":2015,"starRating":3,"mediumSynopsis":"In this harrowing historical drama set in the winter of 1820, the crew of the New England whaling ship the Essex struggle to survive after an attack by a rogue sperm whale leaves them stranded at sea for 90 days."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=8167420390189695112&width=180&height=240","title":"Crimson Peak","year":2015,"starRating":3,"mediumSynopsis":"In this terrifying gothic romance, a mysterious stranger woos a young woman and brings her to his mansion atop a clay mountain. There, she learns that her new home holds many disturbing secrets as she fights for her sanity and her very life."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=8133356492128407112&width=180&height=240","title":"Sleeping With Other People","year":2015,"starRating":3,"mediumSynopsis":"After losing their virginity together in college, Lainey and Jake meet again at a sex-addiction support group. They vow to stay just friends, but their relationship makes them rethink their bed-hopping lifestyle in this raunchy yet sweet rom com."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=8077336639337478112&width=180&height=240","title":"Mission: Impossible - Rogue Nation","year":2015,"starRating":3,"mediumSynopsis":"Ethan Hunt and his teammates reunite for this pulse-pounding sequel, in which they attempt to take down a secret international organization known as the Syndicate—highly skilled ex-IMF agents who are intent on bringing down their former outfit."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=8070297464625026112&width=180&height=240","title":"Macbeth","year":2015,"starRating":3,"mediumSynopsis":"In this visually stunning adaptation of William Shakespeare's famous play, a Scottish lord hears a prophecy that says he will become the king of his country. Soon thereafter, he and his power-hungry wife make plans to claim the throne."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=8001824470454159112&width=180&height=240","title":"Minions","year":2015,"starRating":3,"mediumSynopsis":"In this hilarious prequel to \"Despicable Me,\" a trio of small yellow minions search for a new evil genius to serve. Later, they pledge their loyalty to a supervillainess and her inventor husband as part of a plan to steal the British royal crown."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=7945790439135223112&width=180&height=240","title":"Frame by Frame","year":2015,"starRating":3,"mediumSynopsis":"This emotional and inspirational documentary profiles four photojournalists in Afghanistan as they work to capture their nation's identity and create a free press in the wake of the Taliban's fall."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=7816546375154594112&width=180&height=240","title":"Brooklyn","year":2015,"starRating":3,"mediumSynopsis":"When meek Eilis Lacey (Saoirse Ronan) emigrates from Ireland to New York City, her heart is soon torn between a magnetic Italian neighbor (Emory Cohen) and a charming lad (Domhnall Gleeson) back home."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=7782222138779043112&width=180&height=240","title":"In My Father's House","year":2015,"starRating":3,"mediumSynopsis":"In this revealing documentary, rapper Che \"Rhymefest\" Smith buys his childhood home in Chicago and reconnects with his father, who he learns is a homeless alcoholic living nearby."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=7673420002211056112&width=180&height=240","title":"Furious 7","year":2015,"starRating":3,"mediumSynopsis":"The Fast and the Furious franchise speeds on in this installment directed by James Wan (The Conjuring), and featuring the late Paul Walker in his final film role."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=7499125469483555112&width=180&height=240","title":"All Things Must Pass: The Rise and Fall of Tower Records","year":2015,"starRating":3,"mediumSynopsis":"This entertaining documentary explores the rise and fall of Tower Records, a chain of music stores that went out of business after entering bankruptcy in 2004."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=7643014976437766112&width=180&height=240","title":"Hotel Transylvania 2","year":2015,"starRating":3,"mediumSynopsis":"In this hilarious animated comedy, hotel owner Dracula is concerned that his half-human grandson Dennis isn't embracing his vampire heritage. He and his fellow ghouls put Dennis through a \"monster-in-training\" boot camp, but their efforts are complicated by the arrival of Dracula's dad, a traditionalist vampire named Vlad."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=7452718039193829112&width=180&height=240","title":"The Pearl Button","year":2015,"starRating":3,"mediumSynopsis":"In this fascinating documentary the beauty of icy glaciers and Chile's extensive coastline is tied to a history of disturbing events that affected the country. The film details the decimation of the Water People, ancient inhabitants of Patagonia and the countries \"disappeared\"-- people who were tied to heavy rails and dropped into the ocean."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=7442445954427405112&width=180&height=240","title":"Black Mass","year":2015,"starRating":3,"mediumSynopsis":"The true life tale of Whitey Bulger is brought to the screen with this biopic starring Johnny Depp as the Boston mobster who outran authorities for nearly two decades before being captured in 2011. Scott Cooper directs, with Mark Mallouk penning the screenplay based on Dick Lehr and Gerald O'Neill's 2001 best-seller Black Mass: The True Story of An Unholy Alliance Between The FBI and The Irish Mob."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=7421929215684064112&width=180&height=240","title":"Entertainment","year":2015,"starRating":3,"mediumSynopsis":"In this delightfully surreal comedy-drama, a down-on-his-luck comic plays a series of depressing shows in the Mojave Desert, while on his way to reconnect with his estranged daughter."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=7441704791543059112&width=180&height=240","title":"The SpongeBob Movie: Sponge Out of Water","year":2015,"starRating":3,"mediumSynopsis":"SpongeBob and Plankton form an alliance to recover the secret recipe for Krabby Patties, which has been stolen by the pirate Burger Beard. Their search eventually leads them to the real world, where they become superheroes in this charming adventure."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=7405515827652468112&width=180&height=240","title":"The Tainted Veil","year":2015,"starRating":3,"mediumSynopsis":"This thought-provoking documentary examines the hijab, a head covering traditionally worn by Muslim women, and features debates and discussions about the meaning the covering has and the opinions and stigmas involving its use."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=7288542451540320112&width=180&height=240","title":"Meadowland","year":2015,"starRating":3,"mediumSynopsis":"A couple find it difficult to cope with their son's disappearance in this captivating drama. The husband, a New York City policeman, descends into immoral behavior, while the wife turns self-destructive."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=7268596181469873112&width=180&height=240","title":"He Never Died","year":2015,"starRating":3,"mediumSynopsis":"In this gritty thriller, a reclusive immortal man with an appetite for human flesh has life flipped on its side when a teenage daughter he never knew about comes into his life, forcing him out of routine and into his violent past when her life is threatened."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=7234345094266249112&width=180&height=240","title":"The Girl in the Book","year":2015,"starRating":3,"mediumSynopsis":"Suffering from writer's block, a book editor is forced to confront her painful past in order to rediscover her voice in this emotional coming-of-age drama."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=7243774516554508112&width=180&height=240","title":"Häiriötekijä","year":2015,"starRating":3},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=7146782789603389112&width=180&height=240","title":"The Russian Woodpecker","year":2015,"starRating":3,"mediumSynopsis":"In this intriguing documentary, an artist born in Ukraine four years after the Chernobyl nuclear meltdown explores the enormous remains of Duga-3, a gigantic antenna that broadcasts a mysterious pulsing radio signal nicknamed \"The Russian Woodpecker.\""},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=7140082194729377112&width=180&height=240","title":"Z for Zachariah","year":2015,"starRating":3,"mediumSynopsis":"Chris Pine, Margot Robbie and Chiwetel Ejiofor are the last three people on earth, struggling to survive secrets, suspicions and threats in this intense thriller based on the book. Margot Robbie, Chris Pine."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=7042958131807981112&width=180&height=240","title":"Orion: The Man Who Would Be King","year":2015,"starRating":3,"mediumSynopsis":"This winning documentary explores the stranger-than-fiction showbiz story of singer Jimmy Ellis, whose voice sounds identical to Elvis'. When the King dies in 1977, Ellis becomes a masked pop star called Orion, who is rumored to be Elvis in disguise."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=6941946657585534112&width=180&height=240","title":"Project T","year":2015,"starRating":3,"mediumSynopsis":"The walls of time and space break down in this rollicking sci-fi adventure, in which an ambitious teen discovers a pin that transports her to a futuristic world. She then teams up with a jaded genius, and they embark on a mission to save the Earth."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=6896638798603004112&width=180&height=240","title":"Anomalisa","year":2015,"starRating":3,"mediumSynopsis":"In this beautiful stop-motion-animation film, a lonely motivational speaker goes on a business trip to Cincinnati, where he meets an extraordinary stranger who might be able to change his negative view of life."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=6894248655880014112&width=180&height=240","title":"A Sinner in Mecca","year":2015,"starRating":3,"mediumSynopsis":"In this bold documentary, a gay Muslim secretly records his pilgrimage to the holy city of Mecca in Saudi Arabia, despite the fact that filming is forbidden there and homosexuality is criminalized."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=6870813715047127112&width=180&height=240","title":"What Our Fathers Did: A Nazi Legacy","year":2015,"starRating":3,"mediumSynopsis":"In this powerful documentary, two adult children of Nazi war criminals reflect on their fathers' monstrous deeds."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=8343521607125932112&width=180&height=240","title":"The Good Dinosaur","year":2015,"starRating":3,"mediumSynopsis":"In this enchanting computer-animated fantasy, set in a world where the dinosaurs never went extinct, an amiable young Apatosaurus befriends a prehistoric human child as he embarks on a journey to reunite with his family."},{"url":"http://edge.myriad-xcr.xcr.comcast.net/select/image?entityId=6833164034686674112&width=180&height=240","title":"Born to Be Blue","year":2015,"starRating":3,"mediumSynopsis":"In this stirring biopic, jazzman Chet Baker relearns his craft in the late '60s after his front teeth are knocked out during a mugging. As he strives to get his career back on track and overcome a drug addiction, he receives support from his girlfriend, an actress who was cast to play his lover in a movie about his life."}]};

px.import("px:scene.1.js").then( function ready(scene) {
  var root = scene.root;
 
  var tiles = [];

  var font = scene.create({t:"fontResource",url:"http://www.pxscene.org/examples/px-reference/fonts/IndieFlower.ttf"});
  //var fontFeatured = scene.create({t:"fontResource",url:"http://www.pxscene.org/examples/px-reference/fonts/FontdinerSwanky.ttf"});
  var fontDesc = scene.create({t:"fontResource",url:"http://www.pxscene.org/examples/px-reference/fonts/DejaVuSans.ttf"});
  var starImage = scene.create({t:"imageResource",url:"http://www.pxscene.org/examples/px-reference/gallery/images/gold_star.png"});
 
  root.a = 0;
  // container
  var s = scene.create({t:"rect", fillColor:0x00000080, w:1200, h:600, parent:root,clip:true});
  // sliding view for scrolling
  var cf = scene.create({t:"rect",parent:s});

  var w = 180;
  var h = 240;

  var top = 80;
  var progs = programs.programs;
  var sparkleUrl = "http://www.pxscene.org/examples/px-reference/gallery/images/sparkle_small.png";
  var maskUrl = "http://www.pxscene.org/examples/px-reference/gallery/images/postermask2.png";

  var title = scene.create({t:"textBox",w:w*1.5,h:200,parent:s,y:top+(h*1.25),
              pixelSize:25,textColor:0xffffffff,font:font,
              alignHorizontal:scene.alignHorizontal.CENTER,
              wordWrap:true, clip:true, leading:-10,
              truncation:scene.truncation.TRUNCATE_AT_WORD});
  var titleY = top+(h*1.25);  
  
  var dtlVisible = false;          
  var starHolder = scene.create({t:"rect",parent:s,w:75,h:15,y:top+(h*1.25)+60,a:0,fillColor:0x000000f00});
  var stars = []; 
  var maxStars = 5;
  var starWidth = 20;
  var starHeight = 20;
  for(var i = 0; i < maxStars; i++) {
    stars[i] = scene.create({t:"image",parent:starHolder,x:i*starWidth,y:0,w:1,h:1,cx:starWidth*0.5,cy:starHeight*0.5, resource:starImage,a:0});
  }           

  function anim(starNum, total, starX) {
    //console.log("starNum "+starNum);
    if( starNum < total) {

      // Animate the stars into view 
      stars[starNum].animateTo({a:1,w:starWidth,h:starHeight },0.5,scene.animation.EASE_IN_BOUNCE,scene.animation.LOOP, 1);
      // Spin the stars
      stars[starNum].animateTo({r:360},60,scene.animation.TWEEN_LINEAR,scene.animation.LOOP,scene.animation.COUNT_FOREVER);

      starNum++;
      if( dtlVisible === true) {
        // resetStars and short-circuit animation because
        // detail is visible
        resetStars();
        return;
      }
      else {
        anim(starNum, total,starX);
      }
    }     
  }
  
  function animStars(starY, starX, selection) {
    var numStars = progs[selection].starRating;
    // Animate the starHolder into place
    starHolder.animateTo({a:1,y:starY,x:starX-((numStars*starWidth)/2)},0.2,scene.animation.TWEEN_LINEAR,scene.animation.LOOP,1);
    anim(0, numStars, starX);
    
  }
  function resetStars() {
    starHolder.animateTo({a:0},0.1,scene.animation.TWEEN_STOP,scene.animation.LOOP,1);
    for(var i = 0; i <maxStars; i++) {
      stars[i].h = 1;
      stars[i].w = 1;
      stars[i].a = 0;
      stars[i].r = 0;
    }
  }
  

  var imagePromises = [];
  var len = progs.length;
  for(var i = 0; i <= min(100,len); i++) {

    var url = progs[i].url;
    
    var res = scene.create({t:"imageResource", url:url});
    if( i >=0 && i <=15)
      imagePromises[i] = res.ready;
    
    // tile background - failed image load
    var t = scene.create({t:"rect",y:top,parent:cf,w:w,h:h,cx:w/2,cy:h/2,ry:1,rz:0,fillColor:0x00000070});
    // tile image
    var ti = scene.create({t:"image",resource:res,parent:t,w:w,h:h,cx:w/2,cy:h/2, id:"image"});
    // reflection
    var tr = scene.create({t:"image",parent:ti,w:w,h:h,cx:w/2,cy:h,rx:1,rz:0,r:180,sx:1.0,sy:0.5,});
    var tr2 = scene.create({t:"image",resource:res,parent:tr,w:w,h:h,a:0.1});
    // reflection masking... big perf hit so flipped off for now
    //var trm = scene.create({t:"image",url:maskUrl,parent:tr,y:200,w:w,h:40,draw:false,mask:true});
    if (Math.random() < 0.3)
    {
      var ts = scene.create({t:"image",url:sparkleUrl,x:w-40,y:-20,w:64,h:64,cx:32,cy:32,parent:ti,id:"sparkle"});
      ts.animateTo({r:360},30,scene.animation.TWEEN_LINEAR,scene.animation.LOOP,
                   scene.animation.COUNT_FOREVER);

    }
    // in-order tiles
    tiles.push(t);
  } 
  
  Promise.all(imagePromises).then(function() {
    for (var i = 15; i >= 0; i--)
    {
      tiles[i].moveToFront();
    }
    
    root.a = 1;
    
  
  });

  // Detail widgets
  var dtl = scene.create({t:"rect",parent:root, y:0, w:1000, h:400, sx:0.01, sy:0.01,fillColor:0x121212d0,
                          lineColor:0xefefefff,lineWidth:3, a:0,clip:true});
  var dtlBevel = scene.create({t:"rect",parent:dtl,x:3, y:3,w:994, h:394, fillColor:0xffffff00,
                          lineColor:0xe0e0e0d0,lineWidth:3});                          
  var dtlImage = scene.create({t:"image",parent:dtl, w:444, h:333, y:25,x:25});
  var dtlTitle = scene.create({t:"textBox",parent:dtl,x:500,w:500,h:300,y:28,wordWrap:true,pixelSize:40,
                 font:font, leading:-10,
                 textColor:0xffffffff,truncation:scene.truncation.TRUNCATE_AT_WORD});
  
  var dtlFeaturedRect = scene.create({t:"rect", parent:dtl,fillColor:0xf8101080,x:-10,y:80,w:200,h:30,cx:32,cy:32,r:-45,a:0});
  var dtlFeaturedText = scene.create({t:"text",parent:dtlFeaturedRect,text:"FEATURED!",x:20,y:-3,w:64,h:30,
                                  pixelSize:30,font:font,textColor:0xffffffff});  
                                              
  var dtlCont = scene.create({t:"rect",parent:dtl,x:500,w:500});
  var rtgCont = scene.create({t:"rect",parent:dtlCont,x:0,y:0,w:100,h:20,fillColor:0xc0c0c000,clip:true});
  
  var dtlRating1 = scene.create({t:"image",parent:rtgCont,x:0,y:0,w:20,h:20,
                resource:starImage});
  var dtlRating2 = scene.create({t:"image",parent:rtgCont,x:20,y:0,w:20,h:20,
                resource:starImage});
  var dtlRating3 = scene.create({t:"image",parent:rtgCont,x:40,y:0,w:20,h:20,
                resource:starImage});                                                               
  var dtlRating4 = scene.create({t:"image",parent:rtgCont,x:60,y:0,w:20,h:20,
                resource:starImage});
  var dtlRating5 = scene.create({t:"image",parent:rtgCont,x:80,y:0,w:20,h:20,
                resource:starImage});
                
  var dtlDesc = scene.create({t:"textBox",parent:dtlCont, x:0,w:450,h:260,y:35,
                font:fontDesc,textColor:0xffffffff,truncation:scene.truncation.TRUNCATE_AT_WORD,
                wordWrap:true,pixelSize:18,leading:2});
  var dtlYear = scene.create({t:"text",parent:dtlCont,font:fontDesc,pixelSize:15,textColor:0xffffffff});                
  
  //var numTiles = tiles.length;
  //for (var i = numTiles-1; i >= 0; i--)
  //{
    //tiles[i].moveToFront();
  //}
  
  var selection = 0;

  function min(v1,v2)
  {
    return (v1 < v2)?v1:v2;
  }
  
  function max(v1,v2)
  {
    return (v1 > v2)?v1:v2;
  }

  function clamp(v,minVal,maxVal)
  {
    return min(maxVal,max(minVal,v));
  }

  function updateSelection(oldSelection, newSelection)
  {
    var x = 50;
    var wspace = 50;
    var r = 45;
    //    var tween = scene.animation.EASE_OUT_ELASTIC;
    var tween = scene.animation.TWEEN_STOP;
         
    var numTiles = tiles.length;
    for (var i = 0; i < numTiles;i++)
    {
      var o = tiles[i];
      if (i == newSelection)
      {
        if (newSelection > 0) x += w;
        o.moveToFront();
        o.animateTo({r:0,sx:1.5,sy:1.5,x:x},0.8,tween,
                    scene.animation.LOOP,1);
        // scroll selection into view
        cf.animateTo({x:min(0,-(x-(s.w-(3*w))))},0.3,tween,
                     scene.animation.LOOP,1);
        resetStars();
        title.text = progs[newSelection].title;
        var tempX = clamp(min(0,-(x-(s.w-(3*w))))+x-(w*.25),0,scene.w);
        // Font is already loaded, so we just need to wait on animation
        title.animateTo({x:tempX},0.3,tween,scene.animation.LOOP,1).then(function(obj){
          var measure = obj.measureText();
          animStars(measure.bounds.y2, obj.x+((w*1.5)/2),newSelection);
        });
        
        x += w+wspace;
      }
      else if (i < newSelection)
      {
        if (oldSelection == -1 || i == oldSelection)
        {
          o.animateTo({r:-r,sx:1,sy:1,x:x},0.8,tween,
                      scene.animation.LOOP,1);
        }
        x+= wspace;
      }
      else if (i > newSelection)
      {
        if (oldSelection == -1 || i == oldSelection)
        {
          o.animateTo({r:r,sx:1,sy:1,x:x},0.8,tween,
                      scene.animation.LOOP,1);
        }
        x+=wspace;
      }
    }
    selection = newSelection;
  }

  function showDetail(detail) {
    
    dtlImage.url = detail.url.replace("width=180&height=240","width=444&height=333");
    dtlTitle.text = detail.title;

    dtlDesc.text = detail.mediumSynopsis;
    dtlYear.text = detail.year;
    
    dtlCont.y = dtlTitle.measureText().bounds.y2;
    console.log("dtlCont.y "+dtlCont.y);
    dtlYear.y = dtlDesc.measureText().bounds.y2+10;

    var rating = detail.starRating;
    //console.log("rating "+rating);
    var size = 20*rating;
    //console.log("width "+size);
    rtgCont.w = size;

    // Animate the main container to be translucent
    cf.animateTo({a:0.3},0.4,scene.animation.TWEEN_STOP,scene.animation.LOOP,1);
    title.animateTo({a:0},0.4,scene.animation.TWEEN_STOP,scene.animation.LOOP,1);
    resetStars();
    
    //var newX=x-(444/2);  
    //dtl.x = 600;//newX;
    dtlVisible = true;
    dtl.animateTo({a:1,x:150,y:200,sx:1.0,sy:1.0},0.4,scene.animation.TWEEN_EXP_2,scene.animation.LOOP,1);
    
 
  }
  
  cf.on("onKeyDown", function(e){
    var oldSelection = selection;
    var newSelection = selection;

    if( e.keyCode == 37 || e.keyCode == 39) {
        if (e.keyCode == 37)
          newSelection = clamp(selection-1,0,cf.children.length-1);
        else if (e.keyCode == 39)
          newSelection = clamp(selection+1,0,cf.children.length-1);
        
        if (oldSelection != newSelection) {

          updateSelection(oldSelection<=1?-1:oldSelection,newSelection);
          // hide the detail view if it was showing 
          if(dtlVisible === true) {
            dtlVisible = false;
            dtl.animateTo({a:0,y:0,x:600,sx:0.01,sy:0.01},0.3,scene.animation.TWEEN_EXP_2,scene.animation.LOOP,1);   
            dtlImage.url = "";
            dtlTitle.text = "";
            dtlDesc.text = "";
            dtlYear.text = "";  
            cf.animateTo({a:1.0},0.2,scene.animation.TWEEN_STOP, scene.animation.LOOP,1);
            title.animateTo({a:1},0.2,scene.animation.TWEEN_STOP,scene.animation.LOOP,1);
          }
        }
    }
    else {
        if(e.keyCode == 13 && dtlVisible === false) {    

          dtlFeaturedRect.a = 0;
          var image = tiles[newSelection].getObjectById("image");
          //console.log("image is "+image +" url is "+image.url);
          //console.log("sparkle is "+image.getObjectById("sparkle")+
           //" url is "+image.getObjectById("sparkle").url);
           // Why isn't sparkle returned as undefined when it isn't there??
           var sparkle = image.getObjectById("sparkle");
           //console.log("sparkle object is "+sparkle);
          if(image !== undefined && sparkle !== undefined && sparkle.url !== undefined) {
            dtlFeaturedRect.a = 1;
          } 
          showDetail(progs[newSelection]);
        }
    }
  });

  cf.focus=true;

  font.ready.then(function() {
    var numTiles = tiles.length;
    for (var i = numTiles-1; i >= 0; i--)
    {
      tiles[i].moveToFront();
    }
    updateSelection(-1,0);
    
  });
});


